# 5장 응집도 : 흩어져 있는 것들

- 응집도: 모듈 내부에 있는 데이터와 로직 사이의 관계가 얼마나 강한지 나타내는 지표
  - 응집도가 높은 구조는 변경하기 쉬우며 바람직한 구조이다.
  - 응집도가 낮은 구조는 변경 시 많은 분제가 발생 할 수 있다.

## 5.1 static 메서드 오용

- static 메서드를 사용하는 이유
  - 객체 지향 언어를 사용할 때 C언어 같은 절차 지형 언어의 접근 방식을 사용하려 하기 때문이다.
  - static 메서드는 클래스의 인스턴스를 만들지 않아도 되므로 간단하게 사용할 수 있다.

- 어떤 상황에서 static 메서드를 사용해야할까?
  - 응집도의 영향을 받지 않는 경우
  - 로그 출력 전용 메서드 혹은 팩토리 메서드를 static 메서드로 설계하는 것이 좋다.

## 5.2 초기화 로직 분산

- 클래스를 잘 설계해도, 초기화 로직이 분산되어 있다면 응집도가 낮은 구조가 되어버린다.
  - 이런경우 생성자를 public이 아닌 private으로 선언하여 클래스 내부에서만 인스턴스를 생성할 수 있도록 한다.
  - 그 이후 외부 클래스에서 해당 클래스를 사용하기 위해 static 팩토리 메서드를 생성하게 한다.
- 인스턴스 생성 로직이 너무 많아진다면, 팩토리 클래스를 고려해보는 방법도 있다.

## 5.3 범용 처리 클래스

- static 메서드를 빈번하게 볼 수 있는 클래스로 범용 처리를 위한 클래스가 있다.
- 이런 경우 일반적으로 클래스 이름에 Common이나 Util이라는 이름이 붙는다.
- 이 방식은 static 메서드와 마찬가지로 응집도가 낮은 구조가 만들어 질 수 있다.
- 꼭 필요한 경우가 아니라면 범용 처리 클래스를 만들지 않는 것이 좋으며 모든 동작에 필요한 기능을 만드는 것이 좋다.
  - 로그 출력
  - 오류 확인
  - 디버깅
  - 예외 처리 등...

## 5.4 결과를 리턴하는 데 매개변수 사용하지 않기

- 매개변수를 잘못 다루면 응집도가 낮아지는 문제가 발생한다.
- 매개변수는 출력 매개변수로 설계하지 말고, 데이터와 데이터를 조작하는 논리와 같은클래스에 배치한다.

## 5.5 매개변수가 너무 많은 경우

- 매개변수가 많아지면 응집도가 낮아지기 쉽다.
- 매개변수가 너무 많아지는 문제를 피하려면 개념적으로 의미있는 클래스를 만들어야한다.
- 매개변수가 많으면 데이터 하나하나를 매개변수로 다루지 말고, 그 데이터를 인스턴스 변수로 갖는 클래스를 만들고 활용하는 설계로 변경 해보자!
  - 매개변수가 몇개 이상인 경우 많다고 생각할까? -> 2개? 3개?

## 5.6 메서드 체인

- .(점)으로 여러 메서드를 연결해서 리턴 값의 요소에 차례차례 접근하는 방법을 메서드 체인이라고 한다.
- 이 방법도 응집도를 낮출 수 있어서 좋지 않은 방법 중 하나이다.
- 데메테르의 법칙 : 사용하는 객체 내부를 알아서는 안된다는 법칙
