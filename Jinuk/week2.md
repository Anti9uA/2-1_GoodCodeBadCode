# 3. 클래스 설계: 모든 것과 연결되는 설계 기반
- 클래스 단위로 잘 동작하도록 설계하기
  - 클래스의 구성 요소
    - 인스턴스 변수
    - 메서드 - 인스턴스 변수를 정상적으로 조작

  - 모든 클래스는 자기 방어 임무를 갖는다
    - 다른 클래스에 맡기던 일을 스스로 할 수 있게 설계

- 성숙한 클래스로 성장시키는 설계 기법
  - 생성자로 확실하게 정상적인 값 설정하기
    - 생성자를 통한 초기화
    - validation 정의

  - 계산 로직도 데이터를 가진 쪽에 구현하기
    - 응집도를 높이는 구조로 변환

  - 불변 변수로 만들어서 예상하지 못한 동작 막기
    - 변수의 값이 바뀌면 값 변경을 계속 신경써야 함
    - 불변 변수로 만들어 버려서, 한 번만 할당할 수 있도록

  - 변경하고 싶다면 새로운 인스턴스 만들기
    - 불변 변수를 바꾸는 것이 아니라, 아예 새로운 인스턴스를 생성해 버리자

  - 메서드 매개변수와 지역 변수도 불변으로 만들기
    - 메서드 내부에서 매개변수를 변경할 수 없도록 만들기
    - 지역 변수도 불변으로 만들어, 재할당을 막아 의미의 변경을 막기

  - 엉뚱한 값을 전달하지 않도록 하기
    - 자료형의 문제로 인해 실수할 여지가 분명히 있음
    - 따라서 특정 자료형만 매개변수로 받을 수 있도록 메서드 사용
    - 메서드 내부에서 해당 자료형을 이용하여 추가로 validation 가능

  - 의미 없는 메서드 추가하지 않기
    - 시스템 사양에 필요하지 않는 메서드를 추가해 두면, 버그가 될 수 있음

- 악마 퇴치 효과 검토하기
  - 클래스 설계를 통하여 중복 코드, 수정 누락, 가독성, 가비지 객체, 잘못된 값 할당, 부수 효과, 값 전달 실수 등의 문제를 해결할 수 있음
  - 사실상 인스턴스 변수가 잘못된 상태에 빠지지 않게 하기 위한 구조를 만드는 것
  - 응집도가 높은 구조일수록 효과적
  - 필요한 메서드만 외부에 공개하는 캡슐화 진행

- 프로그램 구조의 문제 해결에 도움을 주는 디자인 패턴
  - 완전 생성자
    - 인스턴스 변수를 모두 초기화해야만 객체 생성 가능하도록 생성자 추가
    - 생성자 내부에 가드 설치

  - 값 객체
    - 값을 클래스로 나타내는 디자인 패턴
    - 의미가 다른 값들이 섞이는 것을 방지