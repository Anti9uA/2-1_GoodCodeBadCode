# 5. 응집도: 흩어져 있는 것들

- static 메서드 오용
  - static 메서드로 로직을 작성하다 보면 데이터와 로직이 서로 다른 클래스에 있게 되는 경우가 있음
  - 이러한 문제가 발생하는 원인 - static 메서드는 인스턴스 변수를 사용할 수 없음
    - 데이터와 로직을 모아 응집도가 높은 구조로 설계해야 함
  - 인스턴스 변수를 사용하는 구조로 변경하기
    - 인스턴스 변수와 인스턴스 변수를 사용하는 로직을 같은 클래스에 만드는 것이 응집도를 높이는 방법
  - 인스턴스 메서드인 척하는 static 메서드 주의하기
    - static이 붙어있지 않더라도, 인스턴스 변수를 사용하지 않는 경우 static 메서드와 다를 게 없음
  - static 메서드를 사용하는 이유
    - 클래스의 인스턴스를 생성하지 않고도 사용할 수 있는 static 메서드가 필요하기도 함
    - 응집도가 낮앚기ㅣ 때문에 남용하지 않는 게 좋음
  - static 메서드를 사용하는 상황
    - 응집도의 영향을 받지 않는 경우
      - 로그 출력 메서드
      - 포맷 전환 메서드
      - 팩토리 메서드

- 초기화 로직 분산
  - 생성자를 private로 만들고, 팩토리 메서드 활용하기
    - 초기화 로직의 분산을 막기 위함
    - 클래스 내부에서만 인스턴스를 생성할 수 있고, static 팩토리 메서드를 이용해 생성자 호출
  - 생성 로직이 너무 많아지면 팩토리 클래스를 고려해 보자
    - 생성 로직이 너무 많아지면 클래스가 하는 일이 불분명해 짐
    - 생성 전용 팩토리 클래스를 분리하는 방법도 있음

- 범용 처리 클래스(Common/Util)
  - 너무 많은 로직이 한 클래스에 모이는 문제
    - 관련 없는 범용 처리가 한 클래스에 모이는 상황 발생 가능
  - 객체 지향 설계의 기본으로 돌아가기
    - 꼭 필요한 경우가 아니면, 범용 처리 클래스를 만들지 말자
  - 횡단 관심사
    - 다양한 상황에서 넓게 활용되는 기능 - 횡단 관심사
    - 이런 부분들은 범용 코드로 만들어도 괜찮음

- 결과를 리턴하는데 매개변수 사용하지 않기
  - 출력 매개변수 - 출력으로 사용되는 매개변수
  - 응집도 문제 발생
  - 데이터와 데이터를 조작하는 논리를 같은 클래스에 배치하는 것이 중요

- 매개변수가 너무 많은 경우
  - 기본 자료형에 대한 집착
    - 기본 자료형을 남용하는 현상
    - 기본 자료형으로만 구현하면, 중복 코드가 많이 생기고 로직이 분산되기 쉬움
    - 가독성이 떨어짐
    - 관련 있는 로직을 클래스를 통해서 응집할 수 있음
  - 의미 있는 단위는 모두 클래스로 만들기
    - 개념적으로 의미 있는 클래스들을 만든다

- 메서드 체인
  - 점으로 여러 메서드를 연결해서 리턴 값의 요소에 접근하는 방법
  - 영향이 미칠 수 있는 범위가 커질 수 있는 구조
  - 데메테르의 법칙 - 메서드 체인으로 내부 구조를 돌아다닐 수 있는 설계는 데메테르의 법칙을 위반
  - 묻지 말고 명령하기
    - 내부 상태를 기반으로 판단하거나 제어하려고 하지 말고, 메서드를 통해 객체가 알아서 판단하고 제어하도록 설계하라

